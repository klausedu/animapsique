<?phprequire_once 'config.php';require_once 'includes/db.php';// Define todas as secções necessárias para esta página$secoes = [    'atuacao_titulo',     'atuacao_card1_titulo', 'atuacao_card2_titulo', 'atuacao_card3_titulo',    'atuacao_card4_titulo', 'atuacao_card5_titulo',    'atuacao_card1_exibir', 'atuacao_card2_exibir', 'atuacao_card3_exibir',    'atuacao_card4_exibir', 'atuacao_card5_exibir'];$placeholders = rtrim(str_repeat('?,', count($secoes)), ',');$conteudos = [];try {    $pdo = conectar();    $stmt = $pdo->prepare("SELECT secao, titulo, texto, imagem FROM conteudo_site WHERE secao IN ($placeholders)");    $stmt->execute($secoes);    while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {        $conteudos[$row['secao']] = $row;    }} catch (PDOException $e) {    die("Erro ao buscar conteúdo da página: " . $e->getMessage());}// Função auxiliar para obter valores de forma segurafunction get_content($key, $field, $default = '') {    global $conteudos;    return isset($conteudos[$key][$field]) ? htmlspecialchars($conteudos[$key][$field]) : $default;}// Nova função para formatar o texto com marcadores de íconefunction formatar_marcadores($texto) {    if (empty(trim($texto))) return '';    $linhas = preg_split("/\r\n|\n|\r/", $texto);    $html = '';    $em_lista = false;    $icone_svg = '<svg class="w-5 h-5 mr-2 mt-1 flex-shrink-0 text-[var(--cor-primaria)]" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';    foreach ($linhas as $linha) {        $linha_trim = trim($linha);        if (strpos($linha_trim, '*') === 0) {            if (!$em_lista) {                $html .= '<div class="space-y-2">'; // Inicia um grupo de itens de lista                $em_lista = true;            }            $texto_item = trim(substr($linha_trim, 1));            $html .= '<div class="flex items-start"><span class="flex-shrink-0">' . $icone_svg . '</span><span>' . htmlspecialchars($texto_item) . '</span></div>';        } else {            if ($em_lista) {                $html .= '</div>'; // Fecha o grupo de itens de lista                $em_lista = false;            }            if (!empty($linha_trim)) {                $html .= '<p>' . htmlspecialchars($linha_trim) . '</p>';            }        }    }    if ($em_lista) {        $html .= '</div>'; // Garante que o último grupo de lista é fechado    }    return $html;}require_once 'templates/header_publico.php';?><main class="container mx-auto px-6 py-12">    <h1 class="text-4xl font-bold text-center text-gray-800 mb-4" style="color: var(--cor-primaria);"><?php echo get_content('atuacao_titulo', 'titulo', 'Áreas de Atuação'); ?></h1>    <div class="text-lg text-gray-600 text-center max-w-3xl mx-auto mb-12">        <?php echo formatar_marcadores(get_content('atuacao_titulo', 'texto', 'Texto introdutório sobre as áreas de atuação.')); ?>    </div>    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">        <?php for ($i = 1; $i <= 5; $i++): ?>            <?php if (get_content("atuacao_card{$i}_exibir", 'titulo') === 'sim'): ?>                <a href="atuacao_detalhe.php?id=<?php echo $i; ?>" class="flip-card-container block">                    <div class="flip-card">                        <div class="flip-card-front bg-cover bg-center rounded-lg shadow-lg" style="background-image: url('uploads/site/<?php echo get_content("atuacao_card{$i}_titulo", 'imagem', 'https://placehold.co/300x400/E2E8F0/4A5568?text=Imagem'); ?>')">                            <div class="bg-black bg-opacity-40 p-4 flex items-end h-full rounded-lg">                                <h3 class="text-white text-xl font-bold"><?php echo get_content("atuacao_card{$i}_titulo", 'titulo', "Serviço {$i}"); ?></h3>                            </div>                        </div>                        <div class="flip-card-back bg-white p-6 rounded-lg shadow-lg flex flex-col justify-center items-center text-center">                            <div class="text-gray-700">                                <?php echo formatar_marcadores(get_content("atuacao_card{$i}_titulo", 'texto', "Texto do verso do serviço {$i}.")); ?>                            </div>                            <span class="mt-4 text-sm font-semibold" style="color: var(--cor-primaria);">Saber Mais &rarr;</span>                        </div>                    </div>                </a>            <?php endif; ?>        <?php endfor; ?>    </div></main><style>    .flip-card-container {        perspective: 1000px;        height: 400px;    }    .flip-card {        width: 100%;        height: 100%;        position: relative;        transition: transform 0.8s;        transform-style: preserve-3d;    }    .flip-card-container:hover .flip-card {        transform: rotateY(180deg);    }    .flip-card-front, .flip-card-back {        position: absolute;        width: 100%;        height: 100%;        -webkit-backface-visibility: hidden;        backface-visibility: hidden;    }    .flip-card-back {        transform: rotateY(180deg);    }</style><?php require_once 'templates/footer_publico.php'; ?>